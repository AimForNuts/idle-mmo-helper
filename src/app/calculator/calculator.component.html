<div>
  <h2>XP Needed to Reach Target Level</h2>

  <!-- Form to input current level, current XP, and target level -->
  <div>
    <select (change)="onChange($event)" [(ngModel)]="selectedProfession">
      @for (profession of professions; track profession) {
        <option [value]="profession">
          {{ profession }}
        </option>
      }
    </select>

    <label>Current Level:</label>
    <input #currentLevel type="number" value="1" />

    <label>Exp needed:</label>
    <input #expNeeded type="number" value="0" />

    <label>Target Level:</label>
    <input #targetLevel type="number" value="100" />

    <button (click)="calculateXP(currentLevel.valueAsNumber, expNeeded.valueAsNumber, targetLevel.valueAsNumber)">Calculate</button>
  </div>

  <!-- Results -->
  <ul>
    @for (xpNeededResult of xpNeededResults; track xpNeededResult) {
      <li>
        Material: {{ xpNeededResult[0] }}, Total materials needed: {{ xpNeededResult[1] }}, Last level: {{ xpNeededResult[2] }}, Time will take:
        {{ xpNeededResult[3] }}
      </li>
    }
    @if (xpNeededResults.length > 0) {
      <div>Total time for all actions: {{ totalTime }}</div>
    }
  </ul>
  @if (xpNeededResults.length === 0) {
    <div>{{ noResourcesError }}</div>
  }
</div>
